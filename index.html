
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kelvin Li</title>
  <meta name="author" content="Kelvin Li">

  
  <meta name="description" content="How to fix python on Mac OS X 10.9 with following issue:
Segmentation fault: 11 http://bugs.python.org/file32324/patch_readline_issue_18458.sh
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://seawaywen.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Kelvin Li" type="application/atom+xml">
  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-35338052-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <div id="logo">
  	<div id="logoLeft">{</div>
  	<div id="logoText"> I am </div>
  	<div id="logoRight">}</div>
  	<div class="clear"></div>
  </div>
  <h1><a href="/">Kelvin Li</a></h1>
  
  <div class="clear"></div>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:seawaywen.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2014/03/24/python-segmentation-fault-on-macosx-10-dot-9/">Python Segmentation Fault on MacOSX 10.9</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2014-03-24T15:23:00+08:00" pubdate data-updated="true">Mar 24<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>How to fix python on Mac OS X 10.9 with following issue:
Segmentation fault: 11</p>

<p>http://bugs.python.org/file32324/patch_readline_issue_18458.sh</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/12/06/qt-workshop-topics/">QT Workshop Topics</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-12-06T12:34:00+08:00" pubdate data-updated="true">Dec 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Here are the workshop topics we are going to have recently in QT Beijing. This goala of this post is to consolidation, revise  all of the information before publish this plan to whole team.</p>

<h3>1 nginx server introduction</h3>

<blockquote><p>nginx [engine x] is an HTTP and reverse proxy server, as well as a mail proxy server. For a long time, it has been running on many heavily loaded Russian sites including Yandex, Mail.Ru, VKontakte, and Rambler. According to Netcraft nginx served or proxied 11.48% busiest sites in August 2012.</p></blockquote>

<h5>Agenda:</h5>

<p><code>1. Installation on Linux</code> <br>
<code>2. Basic configuration</code><br>
<code>3. Reverse proxy</code> <br>
<code>4. Serve a static site</code> <br>
<code>5. Load Balance</code> <br>
<code>6. Demo [How to proxy the application server to nginx]</code> <br></p>

<h4>Reference docs</h4>

<hr />

<br>


<h3>2 Some new features of IST</h3>

<blockquote><p>IST (Integrated Support Tool) is an internal Web application of Nagra to trace PR/CR, store project release data and documents, and etc. In 2012 some new features have been deployed in IST. The features are mainly requested by Headend Department, and some other requests as well.</p></blockquote>

<h5>Agenda:</h5>

<p><code>1. Parameter Delivery Process</code> <br>
<code>2. Data Defect Analysis</code> <br>
<code>3. Platform Version Management</code> <br>
<code>4. Module Release and Software Component Version Delta</code> <br>
<code>5. Refer Doc in Perforce</code> <br>
<code>6. Other features</code> <br></p>

<h4>Reference docs</h4>

<hr />

<br>


<h3>3 VSTO AddIn</h3>

<blockquote><p>VSTO stands for Visual Studio Tools for Office, main idea is to take advantage of DotNet Framework and could be
Replacement of the VBA solutions</p></blockquote>

<h5>Agenda:</h5>

<p><code>1. Background: Why use this solution</code> <br>
<code>2. Direction: My ideas of how to use it</code><br>
<code>3. Demo: What I have done with it</code><br>
<code>4. Suggestion: Collect ideas</code><br></p>

<h4>Reference docs</h4>

<hr />

<br>


<h3>4 ASP.MVC</h3>

<blockquote><p>ASP.NET MVC gives you a powerful, patterns-based way to build dynamic websites that enables a clean separation of concerns and that gives you full control over markup for enjoyable, agile development. ASP.NET MVC includes many features that enable fast, TDD-friendly development for creating sophisticated applications that use the latest web standards.</p></blockquote>

<h5>Agenda:</h5>

<p><code>1. What is MVC?</code><br>
<code>2. Controllers and Routing</code><br>
<code>3. Views</code><br>
<code>4. Models(data)</code><br>
<code>5. Deployment</code> <br></p>

<h4>Reference docs</h4>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/12/06/qt-workshop-topics/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/10/09/steps-to-integrate-solr-into-tomcat/">Steps to Integrate Solr Into Tomcat</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-10-09T11:27:00+08:00" pubdate data-updated="true">Oct 9<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I am using the Solr as the full text search enginee in the project. The project is django based, an amazing framework <a href="http://haystacksearch.org/">HayStack</a> was imported as the django search modular. It provides some useful APIs and Commonds that are quite handy.</p>

<p>For Solr, by default it can be ran <code>java -jar start.jar</code> in Solr dir, but in need of the project, we need to host the Solr by Tomcat.
I record some important steps here:</p>

<h2>The example Solr version is <strong>3.6</strong></h2>

<h2>Install Solr instance(s)</h2>

<ol>
<li><p>Extact the apache-solr-3.6.0.zip.</p></li>
<li><p>Copy the <code>apache-solr-3.6.0/example/solr</code> directory to the installation directory <code>/Users/Kelvin/Services/SolrSearchEngines/solr1</code>.</p></li>
<li><p>Copy dist/apache-solr-*.war into <code>/Users/Kelvin/Services/SolrSearchEngines/solr</code> as solr.war.</p></li>
<li><p>Open <code>/Users/Kelvin/Services/SolrSearchEngines/conf/solrconfig.xml</code>  <br/>
Specify the full path of dataDir for the index data:</p></li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;dataDir&gt;${solr.data.dir:/Users/Kelvin/Services/SolrSearchEngines/solr1/data}&lt;/dataDir&gt;</span></code></pre></td></tr></table></div></figure>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/10/09/steps-to-integrate-solr-into-tomcat/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/09/16/python-env-issue-on-mountain-lion/">Python Env Issue on Mac (Mountain Lion)</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-09-16T20:51:00+08:00" pubdate data-updated="true">Sep 16<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I have python issue after upgrading to the Moutain Lion. I want to create a new virtual python evironment with virtualenv, but I got this error:</p>

<pre><code>Traceback (most recent call last): File "/Library/Python/2.7/site-packages/pip-1.2-py2.7.egg/pip/
basecommand.py", line 106, in main status = self.run(options, args) File "/Library/Python/2.7/
site-packages/pip-1.2-py2.7.egg/pip/commands/install.py", line 248, in run import setuptools
ImportError: No module named setuptools
</code></pre>

<p>After google the issue, I got the solution, the root cause is that Apple remove the source code of Python in Mountain Lion, and some libs depend on the .py files.</p>

<p>Try this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>curl -O http://python-distribute.org/distribute_setup.py 
</span><span class='line'>/usr/bin/python2.7 distribute_setup.py    
</span><span class='line'>sudo pip install pip --upgrade</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Done.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/09/03/how-to-setup-a-https-site/">How to Setup a HTTPS Site</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-09-03T18:29:00+08:00" pubdate data-updated="true">Sep 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I am going to use SSL on my site. Some important steps were record here for your information.</p>

<h4>Generate CSR (Certificate Signing Request)</h4>

<pre><code>openssl genrsa -out domain.key 2048
openssl req -new -key domain.key -out domain.csr
</code></pre>

<p><strong>To be continue</strong>&#8230;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/08/29/tips-for-git-repository-migration-to-other-server/">Tips for Git Repository Migration to Other Server</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-08-29T14:40:00+08:00" pubdate data-updated="true">Aug 29<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Recently I am going to use the private git repository that hosting on the <a href="http://www.webfaction.com">webfaction</a> from my own server. During the migration I met some issues, here are some tips should be noticed.</p>

<p>When create the new repository, don&#8217;t forget:</p>

<pre><code>git config http.receivepack true
</code></pre>

<p>If you are using the SSL on the GIT server without certificate signed by CA, you <strong>SHOULD</strong> do these in your local box:</p>

<pre><code>export GIT_SSL_NO_VERIFY=true
git clone https://demo@your_git_site_url/project.git
</code></pre>

<p>Then, disable SSL certificate verification for the repository to enable push and pull operations:</p>

<pre><code>switch to the repository directory
git config http.sslVerify false
</code></pre>

<p>And of course when you get error:</p>

<p><code>SSL certificate problem, verify that the CA cert is OK.</code> <code>Details: error:14090086:SSL</code>   <br/>
<code>routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed while accessing</code></p>

<p>You can config gloablly:</p>

<pre><code>git config --global http.sslVerify false
</code></pre>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/08/29/tips-for-git-repository-migration-to-other-server/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/08/29/how-to-push-to-multiple-git-repositories-at-one-time/">How to Push to Multiple Git Repositories at One Time</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-08-29T14:10:00+08:00" pubdate data-updated="true">Aug 29<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have 2 different repositories now on the different server, now I want one of them to be the backup. Two solutions are in my mind.</p>

<ol>
<li>Sync the repository periodically</li>
<li>Each time when push the changes, both of the repositoy should be pushed</li>
</ol>


<p>Here you can follow this handy trick to keep your updates on each your GIT server with one push:</p>

<p><strong>In .git/config file:</strong></p>

<pre><code>[remote "all"]
url = kelvin@git.xxx.com:sample.git
url = kelvin@git.yyy.com::sample.git

[remote "origin"]
fetch = +refs/heads/*:refs/remotes/origin/*
url = kelvin@git.xxx.com:sample.git

[remote "github"]
fetch = +refs/heads/*:refs/remotes/github/*
url = kelvin@git.yyy.com::sample.git
</code></pre>

<p>Done.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/08/23/tar-command-usage/">Tar Command Usage</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-08-23T22:02:00+08:00" pubdate data-updated="true">Aug 23<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Create the tar file</p>

<pre><code>tar -czvp -f archive.tar.gz foo bar # Create archive.tar.gz from files foo and bar with the preserved permission,
tar -cjvp -f archive.tar.bz2 foo bar 
</code></pre>

<p>How to split the file:</p>

<pre><code>split -b 4000k archive.tar.gz archive.20120829.tar.gz. -verbose

creating file 'archive.20120829.tar.gz.aa'
creating file 'archive.20120829.tar.gz.ab'
creating file 'archive.20120829.tar.gz.ac'
...
</code></pre>

<p>We can merge above 2 commands as one with the pipe | as following:</p>

<pre><code>tar -czvp -f -- archive.tar.gz foo bar |split -b 4000k -- archive.tar.gz archive.20120829.tar.gz. -verbose

tar -tvf archive.tar # List all files in archive.tar verbosely.
</code></pre>

<p>How to exact the split tar files?</p>

<pre><code>cat archive.20120829.tar.gz.a* &gt; archive.20120829.tar.gz

cat archive.20120829.tar.gz.a* |tar -zxv
</code></pre>

<p><strong>Strange ISSUE</strong>:</p>

<p>Under Mac OS, when you <code>tar cfv xx.tar xx</code>, you have some strange extra files start with ._xxx generated.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/08/16/install-pil-on-ubuntu/">Install PIL on Ubuntu</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-08-16T22:59:00+08:00" pubdate data-updated="true">Aug 16<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Install the build dependencies:</p>

<pre><code>sudo apt-get build-dep python-imaging
</code></pre>

<p>Symlink the libraries:</p>

<pre><code>sudo ln -s /usr/lib/`uname -i`-linux-gnu/libfreetype.so /usr/lib/
sudo ln -s /usr/lib/`uname -i`-linux-gnu/libjpeg.so /usr/lib/
sudo ln -s /usr/lib/`uname -i`-linux-gnu/libz.so /usr/lib/
</code></pre>

<p>Install:</p>

<pre><code>pip install PIL
</code></pre>

<p>Done.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <!-- Now we're back to normal posts. Note the links used under href in both headers.-->
        <h1 class="entry-title"><a href="/blog/2012/08/05/setup-postgres-on-ubuntu/">Setup Postgres on Ubuntu</a></h1>
      
    
    
      <p class="meta">
        








  


<time datetime="2012-08-05T15:46:00+08:00" pubdate data-updated="true">Aug 5<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h5>1. Change the pg_hda.conf</h5>

<pre><code>/etc/postgresql/9.1/main/pg_hba.conf
host all all 172.22.2.0/24 md5
</code></pre>

<h5>2.Change the <code>/etc/postgresql/9.1/main/postgresql.conf</code></h5>

<pre><code>listen_addresses = '*'
</code></pre>

<h5>3.Change the postgres user&#8217;s password</h5>

<pre><code>sudo su postgres -c psql template1
ALTER USER postgres WITH PASSWORD ' &lt;***password***&gt; ';
</code></pre>

<h5>4.sudo passwd postgres</h5>

<h5>5.Restart the db server</h5>

<pre><code>sudo /etc/init.d/
</code></pre>

<h5>6.Create the database</h5>

<pre><code>su postgres
createdb mydb
</code></pre>

<p>refer to:<a href="https://help.ubuntu.com/11.04/serverguide/postgresql.html">https://help.ubuntu.com/11.04/serverguide/postgresql.html</a></p>

<p>Done.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/03/24/python-segmentation-fault-on-macosx-10-dot-9/">python Segmentation fault on MacOSX 10.9</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/06/qt-workshop-topics/">QT workshop topics</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/10/09/steps-to-integrate-solr-into-tomcat/">Steps to integrate Solr into Tomcat</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/16/python-env-issue-on-mountain-lion/">Python env issue on Mac (Mountain Lion)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/09/03/how-to-setup-a-https-site/">How to setup a HTTPS site</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/seawaywen">@seawaywen</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'seawaywen',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Kelvin Li @memodir
  <!--span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span-->
</p>

</footer>
  











</body>
</html>
